# Task Picker Agent

Cursor内の作業からタスクを拾い上げ、tasks.mdに追加するClaude Codeカスタムコマンド。

## 概要

このエージェントは**当日更新されたファイル**から、タスクの追加・完了を自動検出します：

- **当日更新ファイル検出** - 今日変更された.mdファイルを自動検出
- **Git差分解析** - `- [ ]` → `- [x]` などのタスク状態変化を検出
- **セッションログ** - Claude Codeセッション内のタスクを抽出
- **TODO/FIXME検出** - ドキュメント内のTODO/FIXMEを収集

抽出されたタスクは `tasks.md` に追記され、後段の **Task Orchestration Agent** が深掘り・工数見積もりを行います。

## 検出パターン

| パターン | 意味 |
|----------|------|
| `+ - [ ] タスク` | 新規追加されたタスク |
| `- - [ ] タスク` | 削除または完了に変更 |
| `+ - [x] タスク` | 完了としてマーク |

## アーキテクチャ

```
┌─────────────────────────────────────────────────────────┐
│                  Task Picker Agent                       │
│      当日更新ファイルからタスクの追加・完了を検出         │
├─────────────────────────────────────────────────────────┤
│  入力                                                    │
│  ├── 当日更新された.mdファイル                          │
│  ├── Git差分（タスク状態の変化を検出）                  │
│  ├── Claude Codeセッションログ                          │
│  └── TODO/FIXME                                         │
├─────────────────────────────────────────────────────────┤
│  出力                                                    │
│  ├── 🆕 追加されたタスク                                │
│  ├── ✅ 完了したタスク                                  │
│  └── 📝 TODO/FIXME                                      │
├─────────────────────────────────────────────────────────┤
│  後段処理（別ツール）                                    │
│  └── Task Orchestration Agent                           │
│       ├── タスクの深掘り                                │
│       └── 工数見積もり                                  │
└─────────────────────────────────────────────────────────┘
```

## インストール

1. このリポジトリをクローン
```bash
git clone https://github.com/thedomainai/task-picker-agent.git
```

2. `.claude/commands/daily-tasks.md` をプロジェクトの `.claude/commands/` にコピー
```bash
mkdir -p .claude/commands
cp task-picker-agent/.claude/commands/daily-tasks.md .claude/commands/
```

3. 設定をカスタマイズ
   - `daily-tasks.md` 内のパスを自分の環境に合わせて変更
   - ワークスペースのパス
   - セッションログのパス
   - tasks.mdの出力先

## 使い方

Claude Codeで以下のコマンドを実行：

```
/daily-tasks
```

### フロー

1. **ファイル検出** - 当日更新された.mdファイルを検出
2. **差分解析** - Git差分からタスクの追加・完了を検出
3. **セッション抽出** - セッションログからタスクを抽出
4. **確認** - ユーザーがタスク内容を確認・編集
5. **追記** - tasks.mdに追記

## 設定項目

| 項目 | デフォルト値 |
|------|-------------|
| ワークスペース | `/Users/lemmaitt/workspace/obsidian_vault` |
| セッションログ | `docs/01_resource/sessions/` |
| タスク出力先 | `docs/01_resource/tasks.md` |

## 必要環境

- [Claude Code](https://claude.ai/claude-code)

## ライセンス

MIT
